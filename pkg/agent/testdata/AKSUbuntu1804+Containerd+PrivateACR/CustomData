#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SPTUvzQBSF9/kVhzC8baHzjh+7QuuiBqmLRmwKLoQynV6SaMyNMzelfv13qaIVlKJ3ex7uOY9ZlrVZ2lDAcCPGPraejONabFmTD6bxvC5DyfX/UGA0gllbbyrOP8iqDUJe77CKcxyN/h1GydUkW4zT02SoTqLwEITunFTQumbd2Jw8dIUgVtqA23ZJFclvCrQLpLmVppVdVzrPLubZUHWdlT9/eEZBdgVd4/igF53P0ulill1OpmdD1cXN/Ta4jvDttLY+BznE6lM13kNyg1i9D92HkUf8c955SjaljHlFAyhyfaRvDgMobvpIvGe/DfxLB72IXMFQX2Qi2pSC3dTXAAAA//9qyXjA+QEAAA==

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4yTT0/bQBDF7/4Uq4hDe9hs6Z9LkQ+hGBqRUhQHcQhRtF5PklHWs+7ubAgt/e6VEwLkD1J9WXv2/eY9jcbDG0IeJWcQjMea0VF6GQuwwMk3RyU2lWvNs2yJgUOqYvDKOqOtKpDU/EmaJMMc/AINjJI+BNaeU23v9UNIMlqgd1QB8TlaSKVaaK8sFht4deqykhOrp6ENtNhjFLBRJUx0tPzsmUdjIIRsiZyz5hjS48+fkmwJJm/8rz2kq4yFDjOhXM1K/44elHHEGgl82LRqh9kBrpqX6IWsxW7g/9IawreySCNaOBFDcfSucpFYPIqph1rctXad7lriUdwbIe17IS2ID2IkTgTPgMTadoVLWSCVezH3Cydigq1D6Z/aVHoOMsy0h/1uyTYnVWhIKFgXFoKQLEg3PSwGPijFeldKsQKPZgO9UG9smbhLxNNzdHlzmvWywbg5O2c/xp3+Rf7qXkqgxk0G8AvwWzfkSpBWF2BD2jr6s+l09fMsG/c6p1kv/9vaAhbpRyHl89pIH4mxgtRD5RiE3BSkh18RAsvmw0VOj79Uh0AJVNYOidNIuPyqlPKRXtayfPXaDs7Mt8M4GyuQtY1TJFmiX/8czYg8AUNQa8VaEA7N7LzX2RrW80U/u+jmg6y/msWB8m138H086HSvBnmSDLsUWFs7Sm41MZSnD2kVLaOMAXybtZ8C/wsAAP//pk3NTF0EAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF






- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF



runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
