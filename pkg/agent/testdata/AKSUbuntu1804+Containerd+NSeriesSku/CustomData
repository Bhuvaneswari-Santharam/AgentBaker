#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SPTUvzQBSF9/kVhzC8baHzjh+7QuuiBqmLRmwKLoQynV6SaMyNMzelfv13qaIVlKJ3ex7uOY9ZlrVZ2lDAcCPGPraejONabFmTD6bxvC5DyfX/UGA0gllbbyrOP8iqDUJe77CKcxyN/h1GydUkW4zT02SoTqLwEITunFTQumbd2Jw8dIUgVtqA23ZJFclvCrQLpLmVppVdVzrPLubZUHWdlT9/eEZBdgVd4/igF53P0ulill1OpmdD1cXN/Ta4jvDttLY+BznE6lM13kNyg1i9D92HkUf8c955SjaljHlFAyhyfaRvDgMobvpIvGe/DfxLB72IXMFQX2Qi2pSC3dTXAAAA//9qyXjA+QEAAA==

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4yTT0/bQBDF7/4Uq4hDe9hs6Z9LkQ+hGBqRUhQHcQhRtF5PklHWs+7ubAgt/e6VEwLkD1J9WXv2/eY9jcbDG0IeJWcQjMea0VF6GQuwwMk3RyU2lWvNs2yJgUOqYvDKOqOtKpDU/EmaJMMc/AINjJI+BNaeU23v9UNIMlqgd1QB8TlaSKVaaK8sFht4deqykhOrp6ENtNhjFLBRJUx0tPzsmUdjIIRsiZyz5hjS48+fkmwJJm/8rz2kq4yFDjOhXM1K/44elHHEGgl82LRqh9kBrpqX6IWsxW7g/9IawreySCNaOBFDcfSucpFYPIqph1rctXad7lriUdwbIe17IS2ID2IkTgTPgMTadoVLWSCVezH3Cydigq1D6Z/aVHoOMsy0h/1uyTYnVWhIKFgXFoKQLEg3PSwGPijFeldKsQKPZgO9UG9smbhLxNNzdHlzmvWywbg5O2c/xp3+Rf7qXkqgxk0G8AvwWzfkSpBWF2BD2jr6s+l09fMsG/c6p1kv/9vaAhbpRyHl89pIH4mxgtRD5RiE3BSkh18RAsvmw0VOj79Uh0AJVNYOidNIuPyqlPKRXtayfPXaDs7Mt8M4GyuQtY1TJFmiX/8czYg8AUNQa8VaEA7N7LzX2RrW80U/u+jmg6y/msWB8m138H086HSvBnmSDLsUWFs7Sm41MZSnD2kVLaOMAXybtZ8C/wsAAP//pk3NTF0EAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/nvidia-container-runtime"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/nvidia-container-runtime"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF





- path: /etc/systemd/system/nvidia-modprobe.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=Installs and loads Nvidia GPU kernel module
    [Service]
    Type=oneshot
    RemainAfterExit=true
    ExecStartPre=/bin/sh -c "dkms autoinstall --verbose"
    ExecStart=/bin/sh -c "nvidia-modprobe -u -c0"
    ExecStartPost=/bin/sh -c "sleep 10 && systemctl restart kubelet"
    [Install]
    WantedBy=multi-user.target


- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=
    KUBELET_IMAGE=hyperkube-amd64:v1.15.7


    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,node-role.kubernetes.io/agent=,kubernetes.io/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Standard_LRS,accelerator=nvidia,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF



runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
