#cloud-config

write_files:
- path: /opt/azure/containers/provision_source.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_start.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/5SPTUvzQBSF9/kVhzC8baHzjh+7QuuiBqmLRmwKLoQynV6SaMyNMzelfv13qaIVlKJ3ex7uOY9ZlrVZ2lDAcCPGPraejONabFmTD6bxvC5DyfX/UGA0gllbbyrOP8iqDUJe77CKcxyN/h1GydUkW4zT02SoTqLwEITunFTQumbd2Jw8dIUgVtqA23ZJFclvCrQLpLmVppVdVzrPLubZUHWdlT9/eEZBdgVd4/igF53P0ulill1OpmdD1cXN/Ta4jvDttLY+BznE6lM13kNyg1i9D92HkUf8c955SjaljHlFAyhyfaRvDgMobvpIvGe/DfxLB72IXMFQX2Qi2pSC3dTXAAAA//9qyXjA+QEAAA==

- path: /opt/azure/containers/provision.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_installs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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

- path: /opt/azure/containers/provision_configs.sh
  permissions: "0744"
  encoding: gzip
  owner: root
  content: !!binary |
    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







- path: /etc/systemd/system/kubelet.service
  permissions: "0644"
  encoding: gzip
  owner: root
  content: !!binary |
    H4sIAAAAAAAA/4yTT0/bQBDF7/4Uq4hDe9hs6Z9LkQ+hGBqRUhQHcQhRtF5PklHWs+7ubAgt/e6VEwLkD1J9WXv2/eY9jcbDG0IeJWcQjMea0VF6GQuwwMk3RyU2lWvNs2yJgUOqYvDKOqOtKpDU/EmaJMMc/AINjJI+BNaeU23v9UNIMlqgd1QB8TlaSKVaaK8sFht4deqykhOrp6ENtNhjFLBRJUx0tPzsmUdjIIRsiZyz5hjS48+fkmwJJm/8rz2kq4yFDjOhXM1K/44elHHEGgl82LRqh9kBrpqX6IWsxW7g/9IawreySCNaOBFDcfSucpFYPIqph1rctXad7lriUdwbIe17IS2ID2IkTgTPgMTadoVLWSCVezH3Cydigq1D6Z/aVHoOMsy0h/1uyTYnVWhIKFgXFoKQLEg3PSwGPijFeldKsQKPZgO9UG9smbhLxNNzdHlzmvWywbg5O2c/xp3+Rf7qXkqgxk0G8AvwWzfkSpBWF2BD2jr6s+l09fMsG/c6p1kv/9vaAhbpRyHl89pIH4mxgtRD5RiE3BSkh18RAsvmw0VOj79Uh0AJVNYOidNIuPyqlPKRXtayfPXaDs7Mt8M4GyuQtY1TJFmiX/8czYg8AUNQa8VaEA7N7LzX2RrW80U/u+jmg6y/msWB8m138H086HSvBnmSDLsUWFs7Sm41MZSnD2kVLaOMAXybtZ8C/wsAAP//pk3NTF0EAAA=



- path: /etc/apt/apt.conf.d/99periodic
  permissions: "0644"
  owner: root
  content: |
    APT::Periodic::Update-Package-Lists "0";
    APT::Periodic::Download-Upgradeable-Packages "0";
    APT::Periodic::AutocleanInterval "0";
    APT::Periodic::Unattended-Upgrade "0";








- path: /etc/containerd/config.toml
  permissions: "0644"
  owner: root
  content: |
    version = 2
    subreaper = false
    oom_score = 0
    [plugins."io.containerd.grpc.v1.cri"]
      sandbox_image = "oss/kubernetes/pause:1.3.1"
      [plugins."io.containerd.grpc.v1.cri".containerd]
        
        snapshotter = "teleportd"
        disable_snapshot_annotations = false
        
        [plugins."io.containerd.grpc.v1.cri".containerd.untrusted_workload_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
        [plugins."io.containerd.grpc.v1.cri".containerd.default_runtime]
          runtime_type = "io.containerd.runtime.v1.linux"
          runtime_engine = "/usr/bin/runc"
      
      [plugins."io.containerd.grpc.v1.cri".cni]
        bin_dir = "/opt/cni/bin"
        conf_dir = "/etc/cni/net.d"
        conf_template = "/etc/containerd/kubenet_template.conf"
      
      [plugins."io.containerd.grpc.v1.cri".registry.headers]
        X-Meta-Source-Client = ["azure/aks"]
    [metrics]
      address = "127.0.0.1:10257"
    
    [proxy_plugins]
      [proxy_plugins.teleportd]
        type = "snapshot"
        address = "/run/teleportd/snapshotter.sock"
    
    #EOF

- path: /etc/containerd/kubenet_template.conf
  permissions: "0644"
  owner: root
  content: |
      {
          "cniVersion": "0.3.1",
          "name": "kubenet",
          "plugins": [{
            "type": "bridge",
            "bridge": "cbr0",
            "mtu": 1500,
            "addIf": "eth0",
            "isGateway": true,
            "ipMasq": true,
            "promiscMode": true,
            "hairpinMode": false,
            "ipam": {
                "type": "host-local",
                "subnet": "{{.PodCIDR}}",
                "routes": [{ "dst": "0.0.0.0/0" }]
            }
          },
          {
            "type": "portmap",
            "capabilities": {"portMappings": true},
            "externalSetMarkChain": "KUBE-MARK-MASQ"
          }]
      }

- path: /etc/systemd/system/containerd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=containerd daemon
    After=network.target

    [Service]
    ExecStartPre=/sbin/modprobe overlay
    ExecStart=/usr/bin/containerd
    Delegate=yes
    KillMode=process
    Restart=always
    OOMScoreAdjust=-999
    LimitNOFILE=1048576
    LimitNPROC=infinity
    LimitCORE=infinity

    [Install]
    WantedBy=multi-user.target

    #EOF

- path: /etc/systemd/system/containerd.service.d/exec_start.conf
  permissions: "0644"
  owner: root
  content: |
    [Service]
    ExecStartPost=/sbin/iptables -P FORWARD ACCEPT
    #EOF

- path: /etc/crictl.yaml
  permissions: "0644"
  owner: root
  content: |
    runtime-endpoint: unix:///run/containerd/containerd.sock
    #EOF

- path: /etc/sysctl.d/11-containerd.conf
  permissions: "0644"
  owner: root
  content: |
    net.ipv4.ip_forward = 1
    net.ipv4.conf.all.forwarding = 1
    net.bridge.bridge-nf-call-iptables = 1
    #EOF


- path: /etc/systemd/system/teleportd.service
  permissions: "0644"
  owner: root
  content: |
    [Unit]
    Description=teleportd teleport runtime
    After=network.target
    [Service]
    ExecStart=/usr/local/bin/teleportd --metrics --aksConfig /etc/kubernetes/azure.json
    Delegate=yes
    KillMode=process
    Restart=always
    LimitNPROC=infinity
    LimitCORE=infinity
    LimitNOFILE=1048576
    TasksMax=infinity
    [Install]
    WantedBy=multi-user.target
    #EOF





- path: /etc/kubernetes/certs/ca.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    

- path: /etc/kubernetes/certs/client.crt
  permissions: "0644"
  encoding: base64
  owner: root
  content: |
    



- path: /var/lib/kubelet/kubeconfig
  permissions: "0644"
  owner: root
  content: |
    apiVersion: v1
    kind: Config
    clusters:
    - name: localcluster
      cluster:
        certificate-authority: /etc/kubernetes/certs/ca.crt
        server: https://:443
    users:
    - name: client
      user:
        client-certificate: /etc/kubernetes/certs/client.crt
        client-key: /etc/kubernetes/certs/client.key
    contexts:
    - context:
        cluster: localcluster
        user: client
      name: localclustercontext
    current-context: localclustercontext
    #EOF

- path: /etc/default/kubelet
  permissions: "0644"
  owner: root
  content: |
    KUBELET_FLAGS=
    KUBELET_REGISTER_SCHEDULABLE=true
    NETWORK_POLICY=

    KUBELET_NODE_LABELS=kubernetes.azure.com/role=agent,agentpool=agent2,storageprofile=managed,storagetier=Premium_LRS,kubernetes.azure.com/cluster=resourceGroupName

    #EOF

- path: /opt/azure/containers/kubelet.sh
  permissions: "0755"
  owner: root
  content: |
    #!/bin/bash

    


    # Disallow container from reaching out to the special IP address 168.63.129.16
    # for TCP protocol (which http uses)
    #
    # 168.63.129.16 contains protected settings that have priviledged info.
    #
    # The host can still reach 168.63.129.16 because it goes through the OUTPUT chain, not FORWARD.
    #
    # Note: we should not block all traffic to 168.63.129.16. For example UDP traffic is still needed
    # for DNS.
    iptables -I FORWARD -d 168.63.129.16 -p tcp --dport 80 -j DROP
    #EOF

- path: /etc/sysctl.d/999-sysctl-aks.conf
  permissions: "0644"
  owner: root
  content: |
    # This is a partial workaround to this upstream Kubernetes issue:
    # https://github.com/kubernetes/kubernetes/issues/41916#issuecomment-312428731
    net.ipv4.tcp_retries2=8
    net.core.message_burst=80
    net.core.message_cost=40
    net.core.somaxconn=16384
    net.ipv4.tcp_max_syn_backlog=16384
    net.ipv4.neigh.default.gc_thresh1=4096
    net.ipv4.neigh.default.gc_thresh2=8192
    net.ipv4.neigh.default.gc_thresh3=16384

    #EOF



runcmd:
- set -x
- . /opt/azure/containers/provision_source.sh
- aptmarkWALinuxAgent hold
